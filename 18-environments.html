
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>18. Python packages and environments &#8212; Introduction to Python for Computational Science and Engineering</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "fangohr/introduction-to-python-for-computational-science-and-engineering");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "üí¨ utterances");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="19. Where to go from here?" href="19-next-steps.html" />
    <link rel="prev" title="17. Pandas - Data Science with Python" href="17-pandas.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Python for Computational Science and Engineering</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="opening.html">
   Python for Computational Science and Engineering
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01-introduction.html">
   1. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02-powerful-calculator.html">
   2. A powerful calculator
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-data-types-structures.html">
   3. Data Types and Data Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-introspection.html">
   4. Introspection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05-input-output.html">
   5. Input and Output
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-control-flow.html">
   6. Control Flow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-functions-modules.html">
   7. Functions and modules
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08-functional-tools.html">
   8. Functional tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09-common-tasks.html">
   9. Common tasks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10-matlab-to-python.html">
   10. From Matlab to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11-python-shells.html">
   11. Python shells
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12-symbolic-computation.html">
   12. Symbolic computation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13-numeric-computation.html">
   13. Numerical Computation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14-numpy.html">
   14. Numerical Python (numpy): arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="15-visualising-data.html">
   15. Visualising Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="16-scipy.html">
   16. Numerical Methods using Python (scipy)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="17-pandas.html">
   17. Pandas - Data Science with Python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   18. Python packages and environments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="19-next-steps.html">
   19. Where to go from here?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="99-changes.html">
   20. Change history
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/18-environments.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/fangohr/introduction-to-python-for-computational-science-and-engineering"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/fangohr/introduction-to-python-for-computational-science-and-engineering/issues/new?title=Issue%20on%20page%20%2F18-environments.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/fangohr/introduction-to-python-for-computational-science-and-engineering/master?urlpath=tree/book/18-environments.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   18.1. Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#shell-commands-in-the-jupyter-notebook">
     18.1.1. Shell commands in the Jupyter notebook
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisits">
     18.1.2. Prerequisits
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-virtual-environments">
   18.2. Python virtual environments
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-virtual-enviroments">
     18.2.1. Creating virtual enviroments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activating-a-virtual-environment">
     18.2.2. Activating a virtual environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-the-virtual-environment">
     18.2.3. Using the virtual environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name-of-the-virtual-environment">
     18.2.4. Name of the virtual environment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-package-index-pypi">
   18.3. Python Package Index (PyPI)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-packages-with-pip">
     18.3.1. Installing packages with
     <code class="docutils literal notranslate">
      <span class="pre">
       pip
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learn-more-about-an-installed-package-using-pip-show">
     18.3.2. Learn more about an installed package using
     <code class="docutils literal notranslate">
      <span class="pre">
       pip
      </span>
      <span class="pre">
       show
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uninstalling-packages-with-pip">
     18.3.3. Uninstalling packages with
     <code class="docutils literal notranslate">
      <span class="pre">
       pip
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-packages-with-additional-dependencies">
     18.3.4. Installing packages with additional dependencies
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-particular-versions-with-pip">
     18.3.5. Installing particular versions with pip
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#upgrading-a-pip-installed-package">
     18.3.6. Upgrading a pip-installed package
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-a-package-from-github">
     18.3.7. Installing a package from github
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pip-install-a-user-editable-package-from-a-local-directory">
     18.3.8. Pip install a user-editable package from a local directory
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#advance-pip-use-freeze-r-requirements-txt-and-creating-reproducible-environments">
     18.3.9. Advance pip use:
     <code class="docutils literal notranslate">
      <span class="pre">
       freeze
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       -r
      </span>
      <span class="pre">
       requirements.txt
      </span>
     </code>
     and creating reproducible environments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deactivate-a-virtual-environment">
     18.3.10. Deactivate a virtual environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deleting-a-virtual-enviroment">
     18.3.11. Deleting a virtual enviroment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-reading">
     18.3.12. Further reading
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anaconda">
   18.4. Anaconda
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     18.4.1. Introduction
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-use-python-virtual-environments-when-using-the-anaconda-distribution">
     18.4.2. Can I use Python virtual environments when using the anaconda distribution?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#should-i-install-a-python-package-through-conda-or-pip">
     18.4.3. Should I install a python package through
     <code class="docutils literal notranslate">
      <span class="pre">
       conda
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       pip
      </span>
     </code>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-create-a-conda-environment-and-then-create-python-virtual-environments-from-this">
     18.4.4. Can I create a conda environment, and then create python virtual environments from this?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#managing-many-different-environments-pyenv">
   18.5. Managing many different environments - pyenv
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="python-packages-and-environments">
<h1><span class="section-number">18. </span>Python packages and environments<a class="headerlink" href="#python-packages-and-environments" title="Permalink to this headline">¬∂</a></h1>
<div class="section" id="introduction">
<h2><span class="section-number">18.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¬∂</a></h2>
<p>This chapter provides an introduction to installing python packages and using python environments.</p>
<p>In the first part of the chapter you will learn how to</p>
<ul class="simple">
<li><p>search the database of Python packages</p></li>
<li><p>install Python packages from the Python Packaging Index (PyPI)</p></li>
<li><p>create virtual Python environments to separate different projects</p></li>
</ul>
<p>In the second part, we provide additional information for users of the Anaconda distribution, in particular</p>
<ul class="simple">
<li><p>using environments within conda</p></li>
<li><p>installing packages with conda</p></li>
<li><p>interplay between conda and pip</p></li>
</ul>
<p>We mention <code class="docutils literal notranslate"><span class="pre">pyenv</span></code> as an advanced tool at the very end.</p>
<p>This chapter does not comment on the creation of Python packages.</p>
<div class="section" id="shell-commands-in-the-jupyter-notebook">
<h3><span class="section-number">18.1.1. </span>Shell commands in the Jupyter notebook<a class="headerlink" href="#shell-commands-in-the-jupyter-notebook" title="Permalink to this headline">¬∂</a></h3>
<p>This chapter is written in a Jupyter notebook. This can be helpful for the reader as the notebook can be executed, and so the command can be replayed and varied easily.</p>
<p>In this particular chapter, we have lots of interaction with the shell of the operating system, and need to know two things:</p>
<ol class="simple">
<li><p>We use the exclamation mark (<code class="docutils literal notranslate"><span class="pre">!</span></code>) to tell Jupyter to send the following command to the shell (rather than interpret in the Python environment of this notebook). Here is an example:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>date
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tue Jan  4 16:03:43 CET 2022
</pre></div>
</div>
</div>
</div>
<ol>
<li><p>If we modify shell variables (such as the PATH), these are only set within the same cell. This will lead to repitition of some commands. This is mildly annoying (and will not be the case if the same commands are used outside the Jupyter Notebook).</p>
<p>Here is an example to illustrate the issue: First we set a variable value and then we display it:</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">export</span> <span class="nv">NEW_VAR</span><span class="o">=</span><span class="s2">&quot;test&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="nv">$NEW_VAR</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>test
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> operator instructs the shell to carry out the command to the right of <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> if the command on the left succeeded.</p>
<p>Repeating the ‚Äúecho‚Äù command, we find the variable is not defined anymore:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">echo</span> <span class="nv">$NEW_VAR</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>So if we want to make use of those variable values, we need to repeat the setting of them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">export</span> <span class="nv">NEW_VAR</span><span class="o">=</span><span class="s2">&quot;test&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&quot;The value of NEW_VAR is </span><span class="nv">$NEW_VAR</span><span class="s2">.&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The value of NEW_VAR is test.
</pre></div>
</div>
</div>
</div>
<p>We need to make use of this when activiting virtual environments (below).</p>
</div>
<div class="section" id="prerequisits">
<h3><span class="section-number">18.1.2. </span>Prerequisits<a class="headerlink" href="#prerequisits" title="Permalink to this headline">¬∂</a></h3>
<p>We assume that you have already python installed on your system. (And we assume
that you are using Python3.) If you haven‚Äôt got Python 3 yet, then either
<a class="reference external" href="https://fangohr.github.io/blog/installation-of-python-spyder-numpy-sympy-scipy-pytest-matplotlib-via-anaconda.html">install the Anaconda
distribution</a>,
follow the instructions of the <a class="reference external" href="https://docs.python-guide.org/starting/installation/#installation">Hitchhiker‚Äôs Guide to
Python</a> or
take some other action.</p>
<p>Check that you have python installed:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python --version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python 3.9.7
</pre></div>
</div>
</div>
</div>
<p>We also assume you have a somewhat recent Python version (3.8 and above).</p>
<p>The commands below are tested for Linux and OSX operating system. If you use windows, please check the corresponding commands from here: https://packaging.python.org/en/latest/tutorials/installing-packages/</p>
</div>
</div>
<div class="section" id="python-virtual-environments">
<h2><span class="section-number">18.2. </span>Python virtual environments<a class="headerlink" href="#python-virtual-environments" title="Permalink to this headline">¬∂</a></h2>
<p>Before we install packages (be it our own or those from somebody else), we should create a new virtual environment. This is good practice because</p>
<ul class="simple">
<li><p>we can delete it when we don‚Äôt need it any more</p></li>
<li><p>we can not break other projects using python we may be working on</p></li>
<li><p>we have no constraints about versions of particular libraries (it could be that one application needs version 2.x of a library and another application needs the version 1.8: if the two applications are installed in different environments, then this is no problem)</p></li>
</ul>
<div class="section" id="creating-virtual-enviroments">
<h3><span class="section-number">18.2.1. </span>Creating virtual enviroments<a class="headerlink" href="#creating-virtual-enviroments" title="Permalink to this headline">¬∂</a></h3>
<p>We can create a virtual environment using this command</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python -m venv myvirtualenv
</pre></div>
</div>
</div>
</div>
<p>This command creates a subdirectory with name <code class="docutils literal notranslate"><span class="pre">myvirtualenv</span></code> in the current directory which contains the new virtual environment:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls -dl myvirtualenv/
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>drwxr-xr-x  6 fangohr  staff  192 Jan  4 16:03 <span class=" -Color -Color-Blue">myvirtualenv/</span>
</pre></div>
</div>
</div>
</div>
<p>The virtual environment will use the same Python interpreter that we have used above when creating it. On Linux/OSX system, we can find out which interpreter this is by using the <code class="docutils literal notranslate"><span class="pre">which</span></code> command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>which python
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/fangohr/anaconda3/bin/python
</pre></div>
</div>
</div>
</div>
<p>If the basics are sufficient for you, you can skip to the next section about activating a virtual environment.</p>
<p>We also be more specific, and choose a particular Python interpreter when using the <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">venv</span></code> command to force use of a particular python version. On a Mac (OSX), if python3 was installed via brew, there is a python executable in <code class="docutils literal notranslate"><span class="pre">/usr/local/bin/python3</span></code>. To force creation of a virtual environment using this interpreter, we could use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">myvirtualenv</span>
</pre></div>
</div>
<p>There is no need to know what is happening inside this folder, but as we are curious, we‚Äôll have a very brief look anyway:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls myvirtualenv/
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Blue">bin</span>        <span class=" -Color -Color-Blue">include</span>    <span class=" -Color -Color-Blue">lib</span>        pyvenv.cfg
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code> file contains information about the Python interpreter we are using</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat myvirtualenv/pyvenv.cfg
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>home = /Users/fangohr/anaconda3/bin
include-system-site-packages = false
version = 3.9.7
</pre></div>
</div>
</div>
</div>
<p>Out of interest, we can check the total Disk Usage of that subdirectory:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>du -hs myvirtualenv/
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 15M	myvirtualenv/
</pre></div>
</div>
</div>
</div>
<p>To use this virtual environment, we need to activate it:</p>
</div>
<div class="section" id="activating-a-virtual-environment">
<h3><span class="section-number">18.2.2. </span>Activating a virtual environment<a class="headerlink" href="#activating-a-virtual-environment" title="Permalink to this headline">¬∂</a></h3>
<p>To activate the virtual environment, we need to know in which folder it is installed (in our case in <code class="docutils literal notranslate"><span class="pre">myvirtualenv</span></code>). On Linux and OSX, we run the following shell command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate
</pre></div>
</div>
</div>
</div>
<p>This changes the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable, which the operating system uses search for the <code class="docutils literal notranslate"><span class="pre">python</span></code> executable: it puts the directory that contains the python interpreter in our virtual enviromnent to the beginning of the PATH valiabl. We can check that this works, by using the <code class="docutils literal notranslate"><span class="pre">which</span></code> command again:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> which python
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/fangohr/git/introduction-to-python-for-computational-science-and-engineering/book/myvirtualenv/bin/python
</pre></div>
</div>
</div>
</div>
<p>(As outlined in the introduction, the repitition of the <code class="docutils literal notranslate"><span class="pre">activate</span></code> command is only necessary because we work from a Notebook here: if you go through these steps in a shell, you can ignore this, and write <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">python</span></code> straight away.)</p>
</div>
<div class="section" id="using-the-virtual-environment">
<h3><span class="section-number">18.2.3. </span>Using the virtual environment<a class="headerlink" href="#using-the-virtual-environment" title="Permalink to this headline">¬∂</a></h3>
<p>Once we have activated the virtual enviroment, we can use it as we would use the default Python environment provided on the system.</p>
<p>For example to install some Python packages.</p>
</div>
<div class="section" id="name-of-the-virtual-environment">
<h3><span class="section-number">18.2.4. </span>Name of the virtual environment<a class="headerlink" href="#name-of-the-virtual-environment" title="Permalink to this headline">¬∂</a></h3>
<p>We have used <code class="docutils literal notranslate"><span class="pre">myvirtualenv</span></code> as the name of the virtual environment. In general, the name can be chosen freely. Commonly used names include <code class="docutils literal notranslate"><span class="pre">env</span></code> or <code class="docutils literal notranslate"><span class="pre">venv</span></code>. Ocasionally, the environment is installed in a hidden subdirectory (such as <code class="docutils literal notranslate"><span class="pre">.env</span></code> or <code class="docutils literal notranslate"><span class="pre">.venv</span></code>).</p>
<p>We have not used the <code class="docutils literal notranslate"><span class="pre">venv</span></code> name for pedagogical to avoid confusion with the <code class="docutils literal notranslate"><span class="pre">venv</span></code> module.</p>
</div>
</div>
<div class="section" id="python-package-index-pypi">
<h2><span class="section-number">18.3. </span>Python Package Index (PyPI)<a class="headerlink" href="#python-package-index-pypi" title="Permalink to this headline">¬∂</a></h2>
<p>The Python Package Index provides a searchable web interface (https://pypi.org) that provides all Python packages registered with PyPI.</p>
<p>PyPI is the standard way of distributing (open source) python packages, and commonly used in science and engineering as well.</p>
<div class="section" id="installing-packages-with-pip">
<h3><span class="section-number">18.3.1. </span>Installing packages with <code class="docutils literal notranslate"><span class="pre">pip</span></code><a class="headerlink" href="#installing-packages-with-pip" title="Permalink to this headline">¬∂</a></h3>
<p>The command to install one or more of these package is <code class="docutils literal notranslate"><span class="pre">pip</span></code>. We will activate our virtual environment and install some example packages:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting cowsay
  Using cached cowsay-4.0-py2.py3-none-any.whl (24 kB)
Installing collected packages: cowsay
Successfully installed cowsay-4.0
<span class=" -Color -Color-Yellow">WARNING: You are using pip version 21.2.3; however, version 21.3.1 is available.</span>
<span class=" -Color -Color-Yellow">You should consider upgrading via the &#39;/Users/fangohr/git/introduction-to-python-for-computational-science-and-engineering/book/myvirtualenv/bin/python -m pip install --upgrade pip&#39; command.</span>
</pre></div>
</div>
</div>
</div>
<p>As we get a warning that suggests to upgrade the <code class="docutils literal notranslate"><span class="pre">pip</span></code> package itself, we shall follow the instructions and run the recommended command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install --upgrade pip
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pip in ./myvirtualenv/lib/python3.9/site-packages (21.2.3)
Collecting pip
  Using cached pip-21.3.1-py3-none-any.whl (1.7 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.2.3
    Uninstalling pip-21.2.3:
      Successfully uninstalled pip-21.2.3
Successfully installed pip-21.3.1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> cowsay Hellooo World
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  _____________
| Hellooo World |
  =============
             \
              \
                ^__^
                (oo)\_______
                (__)\       )\/\
                    ||----w |
                    ||     ||
</pre></div>
</div>
</div>
</div>
<p>We can confirm the list of packages we have installed (together with their version number) using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">list</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip list
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Package    Version
---------- -------
cowsay     4.0
pip        21.3.1
setuptools 57.4.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="learn-more-about-an-installed-package-using-pip-show">
<h3><span class="section-number">18.3.2. </span>Learn more about an installed package using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">show</span></code><a class="headerlink" href="#learn-more-about-an-installed-package-using-pip-show" title="Permalink to this headline">¬∂</a></h3>
<p>Once a package is installed, we can use <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">show</span></code> to learn more about it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip show cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Name: cowsay
Version: 4.0
Summary: The famous cowsay for GNU/Linux is now available for python
Home-page: https://github.com/VaasuDevanS/cowsay-python
Author: Vaasudevan Srinivasan
Author-email: vaasuceg.96@gmail.com
License: GNU-GPL
Location: /Users/fangohr/git/introduction-to-python-for-computational-science-and-engineering/book/myvirtualenv/lib/python3.9/site-packages
Requires: 
Required-by: 
</pre></div>
</div>
</div>
</div>
<p>For packages that are not installed yet, we need to search https://pypi.org to learn more about them. This includes the list of available packages (under ‚Äúrelease history‚Äù).</p>
<p>(There are command line tools such as <a class="reference external" href="https://pypi.org/project/pip-search/">pip-search</a> that can help to find package names, but they do not provide the same depth  of information as the web page [at the time of writing]).</p>
</div>
<div class="section" id="uninstalling-packages-with-pip">
<h3><span class="section-number">18.3.3. </span>Uninstalling packages with <code class="docutils literal notranslate"><span class="pre">pip</span></code><a class="headerlink" href="#uninstalling-packages-with-pip" title="Permalink to this headline">¬∂</a></h3>
<p>(The <code class="docutils literal notranslate"><span class="pre">-y</span></code> is short for <code class="docutils literal notranslate"><span class="pre">yes</span></code> and tells <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">uninstall</span></code> not to ask for confirmation if <code class="docutils literal notranslate"><span class="pre">cowsay</span></code> should be uninstalled.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip uninstall -y cowsay 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found existing installation: cowsay 4.0
Uninstalling cowsay-4.0:
  Successfully uninstalled cowsay-4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip list
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Package    Version
---------- -------
pip        21.3.1
setuptools 57.4.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="installing-packages-with-additional-dependencies">
<h3><span class="section-number">18.3.4. </span>Installing packages with additional dependencies<a class="headerlink" href="#installing-packages-with-additional-dependencies" title="Permalink to this headline">¬∂</a></h3>
<p>As a second example, we‚Äôll install the <code class="docutils literal notranslate"><span class="pre">wikipedia</span></code> package. We will see that it needs additional python packages as dependencies, which will be installed automatically:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install wikipedia
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting wikipedia
  Using cached wikipedia-1.4.0.tar.gz (27 kB)
  Preparing metadata (setup.py) ... ?25ldone
?25hCollecting beautifulsoup4
  Using cached beautifulsoup4-4.10.0-py3-none-any.whl (97 kB)
Collecting requests&lt;3.0.0,&gt;=2.0.0
  Using cached requests-2.27.0-py2.py3-none-any.whl (63 kB)
Collecting certifi&gt;=2017.4.17
  Using cached certifi-2021.10.8-py2.py3-none-any.whl (149 kB)
Collecting urllib3&lt;1.27,&gt;=1.21.1
  Using cached urllib3-1.26.7-py2.py3-none-any.whl (138 kB)
Collecting charset-normalizer~=2.0.0
  Using cached charset_normalizer-2.0.9-py3-none-any.whl (39 kB)
Collecting idna&lt;4,&gt;=2.5
  Using cached idna-3.3-py3-none-any.whl (61 kB)
Collecting soupsieve&gt;1.2
  Using cached soupsieve-2.3.1-py3-none-any.whl (37 kB)
Using legacy &#39;setup.py install&#39; for wikipedia, since package &#39;wheel&#39; is not installed.
Installing collected packages: urllib3, soupsieve, idna, charset-normalizer, certifi, requests, beautifulsoup4, wikipedia
    Running setup.py install for wikipedia ... ?25ldone
?25hSuccessfully installed beautifulsoup4-4.10.0 certifi-2021.10.8 charset-normalizer-2.0.9 idna-3.3 requests-2.27.0 soupsieve-2.3.1 urllib3-1.26.7 wikipedia-1.4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> python -c <span class="s2">&quot;import wikipedia; print(wikipedia.summary(&#39;cowsay&#39;))&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cowsay is a program that generates ASCII art pictures of a cow with a message. It can also generate pictures using pre-made images of other animals, such as Tux the Penguin, the Linux mascot. It is written in Perl. There is also a related program called cowthink, with cows with thought bubbles rather than speech bubbles. .cow files for cowsay exist which are able to produce different variants of &quot;cows&quot;, with different kinds of &quot;eyes&quot;, and so forth. It is sometimes used on IRC, desktop screenshots, and in software documentation. It is more or less a joke within hacker culture, but has been around long enough that its use is rather widespread. In 2007, it was highlighted as a Debian package of the day.
</pre></div>
</div>
</div>
</div>
<p>It is worth noting that if we uninstall <code class="docutils literal notranslate"><span class="pre">wikipedia</span></code>, the dependencies that <code class="docutils literal notranslate"><span class="pre">wikipedia</span></code> needs (such as <code class="docutils literal notranslate"><span class="pre">beautifulsoup4</span></code>) are <em>not</em> uninstalled:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip uninstall -y wikipedia
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found existing installation: wikipedia 1.4.0
Uninstalling wikipedia-1.4.0:
  Successfully uninstalled wikipedia-1.4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip list
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Package            Version
------------------ ---------
beautifulsoup4     4.10.0
certifi            2021.10.8
charset-normalizer 2.0.9
idna               3.3
pip                21.3.1
requests           2.27.0
setuptools         57.4.0
soupsieve          2.3.1
urllib3            1.26.7
</pre></div>
</div>
</div>
</div>
<p>This can lead to an accumulation of (partly unneeded) python packages. Also for this reason, it is good practice to create a virtual environment <em>from scratch</em> when startinga new project, and to discard it afterwards.</p>
</div>
<div class="section" id="installing-particular-versions-with-pip">
<h3><span class="section-number">18.3.5. </span>Installing particular versions with pip<a class="headerlink" href="#installing-particular-versions-with-pip" title="Permalink to this headline">¬∂</a></h3>
<p>Occasionally, we need to install a particular version of a package. For example, imagine we need version 2.0 of cowsay. In that case, we can use the <code class="docutils literal notranslate"><span class="pre">==</span></code> operator to specify this requirement:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install <span class="nv">cowsay</span><span class="o">==</span><span class="m">3</span>.0
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting cowsay==3.0
  Using cached cowsay-3.0-py2.py3-none-any.whl (19 kB)
Installing collected packages: cowsay
Successfully installed cowsay-3.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> cowsay --version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="upgrading-a-pip-installed-package">
<h3><span class="section-number">18.3.6. </span>Upgrading a pip-installed package<a class="headerlink" href="#upgrading-a-pip-installed-package" title="Permalink to this headline">¬∂</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install -U cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: cowsay in ./myvirtualenv/lib/python3.9/site-packages (3.0)
Collecting cowsay
  Using cached cowsay-4.0-py2.py3-none-any.whl (24 kB)
Installing collected packages: cowsay
  Attempting uninstall: cowsay
    Found existing installation: cowsay 3.0
    Uninstalling cowsay-3.0:
      Successfully uninstalled cowsay-3.0
Successfully installed cowsay-4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> cowsay --version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<p>Let‚Äôs remove cowsay again:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip uninstall -y cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found existing installation: cowsay 4.0
Uninstalling cowsay-4.0:
  Successfully uninstalled cowsay-4.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="installing-a-package-from-github">
<h3><span class="section-number">18.3.7. </span>Installing a package from github<a class="headerlink" href="#installing-a-package-from-github" title="Permalink to this headline">¬∂</a></h3>
<p>If we want to install the latest development version of the (Python) cowsay package, we have two options.</p>
<p><strong>The first option is to <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> directly</strong> from the github. The github repository is at https://github.com/VaasuDevanS/cowsay-python</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip install git+https://github.com/VaasuDevanS/cowsay-python.git
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting git+https://github.com/VaasuDevanS/cowsay-python.git
  Cloning https://github.com/VaasuDevanS/cowsay-python.git to /private/var/folders/wc/d1lyft3x2jn29b6yffrzh4vw0000gq/T/pip-req-build-3iclfhwr
  Running command git clone --filter=blob:none -q https://github.com/VaasuDevanS/cowsay-python.git /private/var/folders/wc/d1lyft3x2jn29b6yffrzh4vw0000gq/T/pip-req-build-3iclfhwr
  Resolved https://github.com/VaasuDevanS/cowsay-python.git to commit 767c09425d813b80d67cdebba02ce387ca2eb4e8
  Preparing metadata (setup.py) ... ?25ldone
?25hUsing legacy &#39;setup.py install&#39; for cowsay, since package &#39;wheel&#39; is not installed.
Installing collected packages: cowsay
    Running setup.py install for cowsay ... ?25ldone
?25hSuccessfully installed cowsay-4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> cowsay --version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip uninstall -y cowsay 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found existing installation: cowsay 4.0
Uninstalling cowsay-4.0:
  Successfully uninstalled cowsay-4.0
</pre></div>
</div>
</div>
</div>
<p><strong>The second option is to clone the git repository to our local machine, and then to install the package from that local directory</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">cd</span> /tmp <span class="o">&amp;&amp;</span> git clone https://github.com/VaasuDevanS/cowsay-python.git
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cloning into &#39;cowsay-python&#39;...
remote: Enumerating objects: 170, done.
remote: Counting objects: 100% (82/82), done.
remote: Compressing objects: 100% (40/40), done.
remote: Total 170 (delta 41), reused 77 (delta 40), pack-reused 88
Receiving objects: 100% (170/170), 79.19 KiB | 1.15 MiB/s, done.
Resolving deltas: 100% (72/72), done.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /tmp/cowsay-python <span class="o">&amp;&amp;</span> pip install .
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processing /private/tmp/cowsay-python
  Preparing metadata (setup.py) ... ?25ldone
?25hUsing legacy &#39;setup.py install&#39; for cowsay, since package &#39;wheel&#39; is not installed.
Installing collected packages: cowsay
    Running setup.py install for cowsay ... ?25ldone
?25hSuccessfully installed cowsay-4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> cowsay --version
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pip-install-a-user-editable-package-from-a-local-directory">
<h3><span class="section-number">18.3.8. </span>Pip install a user-editable package from a local directory<a class="headerlink" href="#pip-install-a-user-editable-package-from-a-local-directory" title="Permalink to this headline">¬∂</a></h3>
<p>This example carries on from the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> example above.</p>
<p>If we pip-install python packages, these are normally installed in the directory tree in the virtual environment. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls myvirtualenv/lib/python3.9/site-packages/cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>__init__.py   <span class=" -Color -Color-Blue">__pycache__</span>   main.py
__main__.py   characters.py test.py
</pre></div>
</div>
</div>
</div>
<p>If we intend to edit the python files in the package (for example because we want to develop it further, or explore it), and we want those edits to be visible in the ‚Äòinstalled‚Äô package, we can ask <code class="docutils literal notranslate"><span class="pre">pip</span></code> to carry out an <code class="docutils literal notranslate"><span class="pre">editable</span></code> install using the <code class="docutils literal notranslate"><span class="pre">-e</span></code> flag:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip uninstall -y cowsay
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found existing installation: cowsay 4.0
Uninstalling cowsay-4.0:
  Successfully uninstalled cowsay-4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /tmp/cowsay-python <span class="o">&amp;&amp;</span> pip install -e .
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Obtaining file:///private/tmp/cowsay-python
  Preparing metadata (setup.py) ... ?25ldone
?25hInstalling collected packages: cowsay
  Running setup.py develop for cowsay
Successfully installed cowsay-4.0
</pre></div>
</div>
</div>
</div>
<p>In this case, only a link to our local package is created:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls -l myvirtualenv/lib/python3.9/site-packages/cowsay*
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-rw-r--r--  1 fangohr  staff  28 Jan  4 16:04 myvirtualenv/lib/python3.9/site-packages/cowsay.egg-link
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat myvirtualenv/lib/python3.9/site-packages/cowsay*
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/private/tmp/cowsay-python
.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="advance-pip-use-freeze-r-requirements-txt-and-creating-reproducible-environments">
<h3><span class="section-number">18.3.9. </span>Advance pip use: <code class="docutils literal notranslate"><span class="pre">freeze</span></code>, <code class="docutils literal notranslate"><span class="pre">-r</span> <span class="pre">requirements.txt</span></code> and creating reproducible environments<a class="headerlink" href="#advance-pip-use-freeze-r-requirements-txt-and-creating-reproducible-environments" title="Permalink to this headline">¬∂</a></h3>
<p>If you want to record (and later re-use) a combination of python packages <em>with their specific version numbers</em>, you can use the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">freeze</span></code> command to provide such a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip freeze
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>beautifulsoup4==4.10.0
certifi==2021.10.8
charset-normalizer==2.0.9
-e git+https://github.com/VaasuDevanS/cowsay-python.git@767c09425d813b80d67cdebba02ce387ca2eb4e8#egg=cowsay
idna==3.3
requests==2.27.0
soupsieve==2.3.1
urllib3==1.26.7
</pre></div>
</div>
</div>
</div>
<p>We can re-direct the output into a file (which by convention is called <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> pip freeze &gt; requirements.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat requirements.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>beautifulsoup4==4.10.0
certifi==2021.10.8
charset-normalizer==2.0.9
-e git+https://github.com/VaasuDevanS/cowsay-python.git@767c09425d813b80d67cdebba02ce387ca2eb4e8#egg=cowsay
idna==3.3
requests==2.27.0
soupsieve==2.3.1
urllib3==1.26.7
</pre></div>
</div>
</div>
</div>
<p>We can now create a new virtual environment, and install all the packages listed in the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file into this new virtual environment:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python -m venv myvirtualenv-copy
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv-copy/bin/activate <span class="o">&amp;&amp;</span> pip install -r requirements.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Obtaining cowsay from git+https://github.com/VaasuDevanS/cowsay-python.git@767c09425d813b80d67cdebba02ce387ca2eb4e8#egg=cowsay (from -r requirements.txt (line 4))
  Skipping because already up-to-date.
Requirement already satisfied: beautifulsoup4==4.10.0 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 1)) (4.10.0)
Requirement already satisfied: certifi==2021.10.8 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 2)) (2021.10.8)
Requirement already satisfied: charset-normalizer==2.0.9 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 3)) (2.0.9)
Requirement already satisfied: idna==3.3 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 5)) (3.3)
Requirement already satisfied: requests==2.27.0 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 6)) (2.27.0)
Requirement already satisfied: soupsieve==2.3.1 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 7)) (2.3.1)
Requirement already satisfied: urllib3==1.26.7 in ./myvirtualenv-copy/lib/python3.9/site-packages (from -r requirements.txt (line 8)) (1.26.7)
Installing collected packages: cowsay
  Attempting uninstall: cowsay
    Found existing installation: cowsay 4.0
    Uninstalling cowsay-4.0:
      Successfully uninstalled cowsay-4.0
  Running setup.py develop for cowsay
Successfully installed cowsay-4.0
<span class=" -Color -Color-Yellow">WARNING: You are using pip version 21.2.3; however, version 21.3.1 is available.</span>
<span class=" -Color -Color-Yellow">You should consider upgrading via the &#39;/Users/fangohr/git/introduction-to-python-for-computational-science-and-engineering/book/myvirtualenv-copy/bin/python -m pip install --upgrade pip&#39; command.</span>
</pre></div>
</div>
</div>
</div>
<p>It is good practice to use the <code class="docutils literal notranslate"><span class="pre">freeze</span></code> command to store the list of packages and versions required for important projects (including those such as scientific publications, reports, theses), and the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file should be archived together with the data and software.</p>
<p>It is even better practice if the <em>creation</em> of the virtual enviroment is done in a scripted way (based on a <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file which should be part of the archived [and version-controlled] files of the analysis), and before all the required processing/simulation/analysis is in that environment.</p>
<p>In practice, achieving full and guaranteed reproducibility is difficult. There are a variety of problems that could occur, such as for example the disappearance of the <code class="docutils literal notranslate"><span class="pre">pypi.org</span></code> service. How to achieve full reproducibility is an active research area, and deserves a separate chapter or book.</p>
<p>In any case, recording the Python packages used is a very good first step.</p>
</div>
<div class="section" id="deactivate-a-virtual-environment">
<h3><span class="section-number">18.3.10. </span>Deactivate a virtual environment<a class="headerlink" href="#deactivate-a-virtual-environment" title="Permalink to this headline">¬∂</a></h3>
<p>To de-activate a virtual enviroment, use the <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> command.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="nb">source</span> myvirtualenv/bin/activate <span class="o">&amp;&amp;</span> deactivate <span class="o">&amp;&amp;</span> which python
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/fangohr/anaconda3/bin/python
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="deleting-a-virtual-enviroment">
<h3><span class="section-number">18.3.11. </span>Deleting a virtual enviroment<a class="headerlink" href="#deleting-a-virtual-enviroment" title="Permalink to this headline">¬∂</a></h3>
<p>To completely remove the virtual environment, we can delete the subfolder in which it was installed:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>rm -rf myvirtualenv
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="further-reading">
<h3><span class="section-number">18.3.12. </span>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>Installing Python packages: https://packaging.python.org/en/latest/tutorials/installing-packages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">venv</span></code> module documentation: https://docs.python.org/3/library/venv.html</p></li>
</ul>
</div>
</div>
<div class="section" id="anaconda">
<h2><span class="section-number">18.4. </span>Anaconda<a class="headerlink" href="#anaconda" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="id1">
<h3><span class="section-number">18.4.1. </span>Introduction<a class="headerlink" href="#id1" title="Permalink to this headline">¬∂</a></h3>
<p>The Anaconda software distribution brings its own packaging, which is controlled through the <code class="docutils literal notranslate"><span class="pre">conda</span></code> command.</p>
<p>Anaconda is well known as a Python distribution, but is in no way limited to Python packages: it is a generic package manager. Together with the community-run <a class="reference external" href="http://conda-forge.org">conda-forge</a> project, there is a multitude of packages available. A particular bonus of the the conda packages is that they can be provided for the three major operating systems is use (Linux, OSX, Windows).</p>
<p>Conda provides <strong>conda packages</strong> for some Python packages that are available from the Python Package Index (PyPI). One thus needs to ask: should I install a package using the conda command (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">spyder</span></code>) or through pip (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">spyder</span></code>). See below for the answer.</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span></code> provides its own <strong>(conda) environments</strong> (see https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html). They show many similarities with our (basic) discussion of (Python) virtual environments. We have no space to discuss the conda environments further here.</p>
<p>The following comments are meant to be helpful for those who have installed their Python interpreter through anaconda. If you are not using Anaconda, you can ignore this section.</p>
</div>
<div class="section" id="can-i-use-python-virtual-environments-when-using-the-anaconda-distribution">
<h3><span class="section-number">18.4.2. </span>Can I use Python virtual environments when using the anaconda distribution?<a class="headerlink" href="#can-i-use-python-virtual-environments-when-using-the-anaconda-distribution" title="Permalink to this headline">¬∂</a></h3>
<p>This can be done and is a good way to create virtual environments. (All the examples above in this chapter use the Python3 interpreter from an anaconda installation on an OSX system).</p>
</div>
<div class="section" id="should-i-install-a-python-package-through-conda-or-pip">
<h3><span class="section-number">18.4.3. </span>Should I install a python package through <code class="docutils literal notranslate"><span class="pre">conda</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span></code>?<a class="headerlink" href="#should-i-install-a-python-package-through-conda-or-pip" title="Permalink to this headline">¬∂</a></h3>
<p>The typical scenario is that one installs Anaconda, and most Python packages needed are available: somewhat standard tools such as <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">scipy</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">jupyter</span></code>, <code class="docutils literal notranslate"><span class="pre">ipython</span></code> and <code class="docutils literal notranslate"><span class="pre">spyder</span></code> already come with the anaconda distribution. Then some package is missing that needs to be installed additionally.</p>
<p>For example, the package <code class="docutils literal notranslate"><span class="pre">xarray</span></code>: this can be installed through conda or through pip.</p>
<p>Experience-based rough guidance is as follows if working within an anaconda installation of Python:</p>
<ul>
<li><p>avoid mixing <code class="docutils literal notranslate"><span class="pre">pip</span></code> installs with <code class="docutils literal notranslate"><span class="pre">conda</span></code> installs</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">conda</span></code> can install the required packages, then use that</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">conda</span></code> cannot install the required packages, we have to use <code class="docutils literal notranslate"><span class="pre">pip</span></code>. In that case:</p>
<ul>
<li><p>install the requirements that need to come from <code class="docutils literal notranslate"><span class="pre">conda</span></code> (if any)</p></li>
<li><p>then install the desired packages through <code class="docutils literal notranslate"><span class="pre">pip</span></code></p></li>
<li><p>after having used <code class="docutils literal notranslate"><span class="pre">pip</span></code>, do not use <code class="docutils literal notranslate"><span class="pre">conda</span></code> again to install more packages.</p>
<p>The reason for this is that <code class="docutils literal notranslate"><span class="pre">conda</span></code> and <code class="docutils literal notranslate"><span class="pre">pip</span></code> cannot interact perfectly, and so the changes that one package manager made, maybe overriden or accidentally repeated slightly differently by the other one.</p>
</li>
</ul>
</li>
</ul>
<p>A more detailed discussion is available on the <a class="reference external" href="https://www.anaconda.com/blog/using-pip-in-a-conda-environment">Anaconda blog</a>.</p>
</div>
<div class="section" id="can-i-create-a-conda-environment-and-then-create-python-virtual-environments-from-this">
<h3><span class="section-number">18.4.4. </span>Can I create a conda environment, and then create python virtual environments from this?<a class="headerlink" href="#can-i-create-a-conda-environment-and-then-create-python-virtual-environments-from-this" title="Permalink to this headline">¬∂</a></h3>
<p>Yes.</p>
<p>This is also an option to install different Python versions.</p>
<p>For example: create a conda (!) environment providing Python 3.8:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">y</span> <span class="o">-</span><span class="n">n</span> <span class="n">python38</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.8</span>
</pre></div>
</div>
<p>Then</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">python38</span></code></p>
<p>and then create a virtual environment using</p>
<p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">venv</span> <span class="pre">myvirtualenv38</span></code></p>
</div>
</div>
<div class="section" id="managing-many-different-environments-pyenv">
<h2><span class="section-number">18.5. </span>Managing many different environments - pyenv<a class="headerlink" href="#managing-many-different-environments-pyenv" title="Permalink to this headline">¬∂</a></h2>
<p>If you use many different python environments, posssibly with different interpreter versions, you may want to learn about <code class="docutils literal notranslate"><span class="pre">pyenv</span></code> (home page at https://github.com/pyenv/pyenv).</p>
<p>Pyenv can install a multitude of python interpreters, create virtual environments for each of those. It is further possible to define an a <em>per-directory</em> basis which environment should be used in that directory. This is convenient when using different enviroments for different projects, as one does not need to manually activate the virtual environments.</p>
<p><strong>Tidy up</strong>: remove files created in this section</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>rm -rf /tmp/cowsay-python
<span class="o">!</span>rm -rf myvirtualenv-copy
<span class="o">!</span>rm -f requirements.txt
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="17-pandas.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">17. </span>Pandas - Data Science with Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="19-next-steps.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">19. </span>Where to go from here?</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Hans Fangohr<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>